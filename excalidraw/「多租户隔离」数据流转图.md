---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
mapper ^uWj1dD1D

DB ^4pGDRwLJ

TenantInterceptor ^pBmg3MCf

1. 用户发起请求 ^4vKQITQd

3. 多租户拦截器拦截原生SQL
TenantInterceptor.intercept() ^4ZjCHdzr

2.mapper执行SQL查询 ^JByvBGnZ

%%
## Drawing
```compressed-json
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
```
%%