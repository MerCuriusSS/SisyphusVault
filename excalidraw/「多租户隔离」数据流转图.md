---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
controller/service ^B9fZZvoE

mapper ^7lkaRrtb

interceptor ^JMBq26O2

db ^93YrZgze

A.1/B.1 先从redis读取业务信息（租户ID前缀作隔离）

C.1先从Redis读取业务信息（无后缀） ^LYqrqvAk

A.登录用户访问信息
B.超级管理员切换不同租户访问信息
C.系统执行定时任务 ^r2Nk7J2T

TenantHelper ^CKJwGu0x

SaToken ^8OVkzbel

Redis ^xhpRRYh9

业务数据（tenantID:xx:xx—{value}） ^yjKvAO6m

%%
## Drawing
```compressed-json
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
```
%%