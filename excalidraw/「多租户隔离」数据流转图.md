---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
controller/service ^B9fZZvoE

mapper ^7lkaRrtb

interceptor ^JMBq26O2

db ^93YrZgze

A.1/B.1 先从redis读取业务信息（租户ID前缀作隔离）

C.1先从Redis读取业务信息（无后缀） ^LYqrqvAk

A.登录用户访问信息
B.超级管理员切换不同租户访问信息
C.系统执行定时任务 ^r2Nk7J2T

TenantHelper ^CKJwGu0x

SaToken ^8OVkzbel

Redis ^xhpRRYh9

%%
## Drawing
```compressed-json
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=
```
%%