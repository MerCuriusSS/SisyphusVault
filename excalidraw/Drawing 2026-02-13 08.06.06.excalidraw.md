---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
tenantHelper ^QDgbv8OQ

SaToken ^Wb5oQtv0

拦截器(TenantLineInnerInterceptor)
&
处理器(PlusTenantLineHandler) ^A9zEUM57

Redis ^Z4HEgWta

1.业务逻辑 ^P1Mnm3fX

2.1登录用户所属租户ID ^45N6WiQq

2.1切换用户/ ^M0IsjqGm

%%
## Drawing
```compressed-json
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=
```
%%