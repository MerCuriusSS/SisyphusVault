---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data

## Text Elements
DataPermissionHelper.setPermission
将@DataPermission注解存入ThreadLocal ^SlfQWwbl

mapper ^kMQBLkiH

DB ^ma8GdmCo

1. 用户发起查询 ^De78ViVn

2.执行SQL查询 ^KcoSJSax

Interceptor ^vcty66Y9

UserContext
(threadLocal) ^jMM5roO0

JSQLParser ^KVQF2PC8

3.拦截SQL ^SrbhQKDF

%%
## Drawing
```compressed-json
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
```
%%